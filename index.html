<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moazzam EduHub - Direct Downloader</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { background-color: #eef2f5; font-family: 'Poppins', sans-serif; }
        
        /* Navbar */
        .navbar { background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%); }
        .navbar-brand { font-weight: bold; color: white !important; }
        
        /* Ticker */
        .news-ticker { background: #d63031; color: #fff; padding: 5px; font-size: 13px; font-weight: bold; }

        /* Hero */
        .hero {
            background: white; padding: 30px 20px; text-align: center;
            border-bottom-right-radius: 40px; border-bottom-left-radius: 40px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1); margin-bottom: 20px;
        }

        /* Ad Box */
        .ad-container {
            text-align: center; margin: 15px auto; padding: 10px;
            background: #fff; border: 2px solid #eee; border-radius: 10px; max-width: 340px;
        }

        /* Feature Cards */
        .feature-card {
            border: none; border-radius: 15px; padding: 15px;
            background: white; text-align: center; transition: 0.3s;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05); height: 100%; cursor: pointer;
        }
        .feature-card:hover { transform: translateY(-5px); border: 1px solid #0984e3; }

        /* Sections */
        .section-view { display: none; animation: fadeIn 0.4s; }
        .active-view { display: block; }
        @keyframes fadeIn { from {opacity:0;} to {opacity:1;} }

        /* Game Styles */
        .game-board { display: grid; grid-template-columns: repeat(3, 1fr); gap: 5px; max-width: 250px; margin: 20px auto; }
        .cell {
            width: 70px; height: 70px; background: #fff; border: 2px solid #333;
            font-size: 36px; font-weight: bold; display: flex; align-items: center;
            justify-content: center; cursor: pointer; border-radius: 10px;
        }

        /* Download Result Box */
        #result-area { display: none; background: #dff9fb; padding: 20px; border-radius: 15px; margin-top: 20px; border: 2px solid #c7ecee; }
    </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand navbar-dark sticky-top">
    <div class="container">
        <a class="navbar-brand" href="#" onclick="showHome()"><i class="fas fa-bolt"></i> Moazzam Hub</a>
        <button class="btn btn-sm btn-light rounded-pill ms-auto fw-bold" onclick="showHome()">Home</button>
    </div>
</nav>

<!-- News Ticker -->
<div class="news-ticker">
    <marquee>üî• Direct Downloader Added! Ab video yahin download hogi. | Play Games & Earn Knowledge.</marquee>
</div>

<!-- 1. HOME DASHBOARD -->
<div id="home-view" class="section-view active-view">
    <div class="hero">
        <h2 class="fw-bold">All-in-One Toolkit</h2>
        <p class="text-muted small">Downloader ‚Ä¢ Notes ‚Ä¢ Games ‚Ä¢ Quiz</p>
    </div>

    <!-- üí∞ AD SPOT 1 -->
    <div class="ad-container">
        <small class="text-muted" style="font-size: 10px;">SPONSORED</small><br>
        <script type="text/javascript" src="//pl28185755.effectivegatecpm.com/09/a8/5f/09a85fb4fd4acbfb73562548f399f7b7.js"></script>
    </div>

    <div class="container mb-5">
        <div class="row g-3">
            <div class="col-6">
                <div class="feature-card" onclick="showSection('downloader-view')">
                    <div class="text-danger fs-1"><i class="fas fa-cloud-download-alt"></i></div>
                    <h6 class="mt-2 fw-bold">Downloader</h6>
                    <small class="text-muted">Direct Save</small>
                </div>
            </div>
            <div class="col-6">
                <div class="feature-card" onclick="showSection('game-view')">
                    <div class="text-warning fs-1"><i class="fas fa-gamepad"></i></div>
                    <h6 class="mt-2 fw-bold">Game Zone</h6>
                    <small class="text-muted">Tic Tac Toe</small>
                </div>
            </div>
            <div class="col-6">
                <div class="feature-card" onclick="showSection('quiz-view')">
                    <div class="text-info fs-1"><i class="fas fa-brain"></i></div>
                    <h6 class="mt-2 fw-bold">Quiz</h6>
                    <small class="text-muted">Test IQ</small>
                </div>
            </div>
            <div class="col-6">
                <div class="feature-card" onclick="showSection('student-view')">
                    <div class="text-primary fs-1"><i class="fas fa-graduation-cap"></i></div>
                    <h6 class="mt-2 fw-bold">Notes</h6>
                    <small class="text-muted">Class 9-12</small>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 2. DIRECT DOWNLOADER (NEW & POWERFUL) -->
<div id="downloader-view" class="section-view container mt-3">
    <button class="btn btn-secondary btn-sm rounded-pill mb-3" onclick="showHome()">‚Üê Back</button>
    
    <div class="card p-4 border-0 shadow rounded-4 text-center">
        <h4 class="text-danger fw-bold"><i class="fab fa-youtube"></i> <i class="fab fa-tiktok"></i> Super Downloader</h4>
        <p class="text-muted small">Link paste karein aur yahi download karein.</p>
        
        <div class="input-group">
            <input type="text" id="dlUrl" class="form-control" placeholder="Paste Video Link...">
            <button class="btn btn-dark" onclick="fetchVideo()"><i class="fas fa-search"></i></button>
        </div>

        <!-- Loading Spinner -->
        <div id="loading" class="mt-3" style="display:none;">
            <div class="spinner-border text-danger" role="status"></div>
            <p class="small fw-bold mt-2">Fetching Video... (Wait 5s)</p>
        </div>

        <!-- Result Area (Hidden by default) -->
        <div id="result-area">
            <h5 class="fw-bold text-success">‚úÖ Video Found!</h5>
            <p class="small text-muted">Click button below to save.</p>
            
            <!-- Download Button -->
            <a id="download-btn" href="#" target="_blank" class="btn btn-success w-100 rounded-pill fw-bold shadow">
                <i class="fas fa-download"></i> Download Video
            </a>
            <hr>
            <a id="audio-btn" href="#" target="_blank" class="btn btn-outline-primary w-100 rounded-pill btn-sm">
                <i class="fas fa-music"></i> Download Audio Only
            </a>
        </div>

        <!-- üí∞ AD SPOT 2 (Below Downloader) -->
        <div class="ad-container mt-4">
            <script type="text/javascript" src="//pl28185755.effectivegatecpm.com/09/a8/5f/09a85fb4fd4acbfb73562548f399f7b7.js"></script>
        </div>
    </div>
</div>

<!-- 3. GAME ZONE -->
<div id="game-view" class="section-view container mt-3 text-center">
    <button class="btn btn-secondary btn-sm rounded-pill mb-3" onclick="showHome()">‚Üê Back</button>
    <div class="card p-4 border-0 shadow rounded-4">
        <h3 class="fw-bold text-warning">Tic Tac Toe</h3>
        <div class="game-board">
            <div class="cell" onclick="makeMove(0)"></div><div class="cell" onclick="makeMove(1)"></div><div class="cell" onclick="makeMove(2)"></div>
            <div class="cell" onclick="makeMove(3)"></div><div class="cell" onclick="makeMove(4)"></div><div class="cell" onclick="makeMove(5)"></div>
            <div class="cell" onclick="makeMove(6)"></div><div class="cell" onclick="makeMove(7)"></div><div class="cell" onclick="makeMove(8)"></div>
        </div>
        <h5 id="gameStatus">Play Now!</h5>
        <button class="btn btn-outline-danger btn-sm mt-2" onclick="resetGame()">Reset</button>
    </div>
</div>

<!-- 4. QUIZ ZONE -->
<div id="quiz-view" class="section-view container mt-3">
    <button class="btn btn-secondary btn-sm rounded-pill mb-3" onclick="showHome()">‚Üê Back</button>
    <div class="card p-4 border-0 shadow rounded-4 text-center">
        <h4 class="fw-bold text-info">General Knowledge</h4>
        <h5 id="q-text" class="mt-3">Loading...</h5>
        <div class="d-grid gap-2 mt-3" id="q-options"></div>
        <h4 id="q-score" class="text-success mt-3" style="display:none;"></h4>
        <button class="btn btn-primary mt-2" onclick="initQuiz()">Restart Quiz</button>
        
        <!-- üí∞ AD SPOT 3 -->
        <div class="ad-container mt-3">
            <script type="text/javascript" src="//pl28185755.effectivegatecpm.com/09/a8/5f/09a85fb4fd4acbfb73562548f399f7b7.js"></script>
        </div>
    </div>
</div>

<!-- 5. STUDENT NOTES -->
<div id="student-view" class="section-view container mt-3">
    <button class="btn btn-secondary btn-sm rounded-pill mb-3" onclick="showHome()">‚Üê Back</button>
    <div class="card p-3 border-0 shadow-sm rounded-4">
        <h4 class="text-primary fw-bold">Notes Library</h4>
        <div class="list-group mt-3">
            <a href="#" class="list-group-item d-flex justify-content-between"><span>Physics 9th</span> <span class="badge bg-primary">PDF</span></a>
            <a href="#" class="list-group-item d-flex justify-content-between"><span>Math 10th</span> <span class="badge bg-primary">PDF</span></a>
            <a href="#" class="list-group-item d-flex justify-content-between"><span>English 11th</span> <span class="badge bg-primary">PDF</span></a>
        </div>
    </div>
</div>

<footer class="text-center mt-5 mb-3 text-muted small">
    &copy; 2025 Moazzam EduHub | Developed by Moazzam Sohail
</footer>

<!-- LOGIC -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    // Navigation
    function showSection(id) {
        document.querySelectorAll('.section-view').forEach(el => el.classList.remove('active-view'));
        document.getElementById(id).classList.add('active-view');
    }
    function showHome() { showSection('home-view'); }

    // --- üöÄ NEW DIRECT DOWNLOAD LOGIC (API) ---
    async function fetchVideo() {
        let url = document.getElementById('dlUrl').value;
        let loader = document.getElementById('loading');
        let result = document.getElementById('result-area');
        
        if(!url) { alert("Link to paste karein!"); return; }

        loader.style.display = 'block';
        result.style.display = 'none';

        try {
            // Using Cobalt Tools Public API (Open Source)
            // Note: Agar yeh API down ho to doosra method use karna padega
            const response = await fetch('https://api.cobalt.tools/api/json', {
                method: 'POST',
                headers: {
                    'Accept': 'application/json',
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    url: url
                })
            });

            const data = await response.json();

            loader.style.display = 'none';

            if(data.url) {
                // Success!
                result.style.display = 'block';
                document.getElementById('download-btn').href = data.url;
                
                // Audio link (if available) or same link
                if(data.audio) {
                     document.getElementById('audio-btn').href = data.audio;
                     document.getElementById('audio-btn').style.display = 'inline-block';
                } else {
                     document.getElementById('audio-btn').style.display = 'none';
                }
            } else {
                alert("Video fetch nahi hui. Link check karein ya private video ho sakti hai.");
            }
        } catch (error) {
            loader.style.display = 'none';
            alert("Server Error! Shayad API busy hai. Please try SSYouTube button method if this fails.");
            console.error(error);
        }
    }

    // --- GAME LOGIC ---
    let currentPlayer = 'X', board = ['', '', '', '', '', '', '', '', ''], gameActive = true;
    function makeMove(i) {
        if (board[i] === '' && gameActive) {
            board[i] = currentPlayer;
            document.getElementsByClassName('cell')[i].innerText = currentPlayer;
            checkWin();
            currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
        }
    }
    function checkWin() {
        const wins = [[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
        wins.forEach(w => {
            if (board[w[0]] && board[w[0]] === board[w[1]] && board[w[0]] === board[w[2]]) {
                document.getElementById('gameStatus').innerText = `Player ${board[w[0]]} Wins!`;
                gameActive = false;
            }
        });
    }
    function resetGame() {
        board = ['', '', '', '', '', '', '', '', '']; gameActive = true; currentPlayer = 'X';
        document.getElementById('gameStatus').innerText = "Play Now";
        Array.from(document.getElementsByClassName('cell')).forEach(c => c.innerText = '');
    }

    // --- QUIZ LOGIC ---
    const qData = [
        {q: "Pakistan ka qaumi khel?", o: ["Cricket", "Hockey", "Football"], a: 1},
        {q: "K2 pahar kahan hai?", o: ["Nepal", "Pakistan", "India"], a: 1},
        {q: "CPU ka full form?", o: ["Central Process Unit", "Central Processing Unit", "Computer Unit"], a: 1}
    ];
    let qIdx = 0, score = 0;
    function initQuiz() {
        qIdx = 0; score = 0;
        document.getElementById('q-score').style.display = 'none';
        loadQ();
    }
    function loadQ() {
        if(qIdx >= qData.length) {
            document.getElementById('q-score').style.display = 'block';
            document.getElementById('q-score').innerText = `Score: ${score}/${qData.length}`;
            document.getElementById('q-text').innerText = "Quiz Completed!";
            document.getElementById('q-options').innerHTML = "";
            return;
        }
        let curr = qData[qIdx];
        document.getElementById('q-text').innerText = curr.q;
        let opts = "";
        curr.o.forEach((opt, i) => {
            opts += `<button class="btn btn-outline-dark mb-2" onclick="ans(${i})">${opt}</button>`;
        });
        document.getElementById('q-options').innerHTML = opts;
    }
    function ans(i) {
        if(i === qData[qIdx].a) score++;
        qIdx++; loadQ();
    }
    initQuiz();
</script>

</body>
    </html>
